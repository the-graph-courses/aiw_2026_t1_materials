---
title: "Workshop: Automation with Relay.app"
format:
  html:
    toc: true
    toc-depth: 3
author: "The Graph Courses Team"
---

# Introduction

In this workshop, you'll create an automated workflow using [Relay.app](https://relay.app){target="_blank"} that processes consultation inquiries submitted through a Google Form. The automation will:

1.  Monitor a Google Sheets spreadsheet for new form submissions
2.  Research the potential client's company using Google Search
3.  Use an AI model to generate a professional HTML report on GenAI opportunities
4.  Email you the report as an attachment

The goal here is to build an extremely simple automation that demonstrates the power of connecting different web services with an AI Large Language Model (LLM). With Relay.app's AI assistant, setting this up takes just a few minutes!


------------------------------------------------------------------------

# Part 1: Setting Up Your Google Form and Data Collection

## Create Your Project Folder

1.  In your browser, navigate to [drive.google.com](https://drive.google.com/){target="_blank"}
2.  Click **New** at the top left → then click **New folder**
3.  Name the folder something like `GenAI Consultations`
4.  Double-click to open the folder

![](https://ajeuwbhvhr.cloudimg.io/https://colony-recorder.s3.amazonaws.com/files/2025-06-06/6e163120-758c-4186-b7f3-be06417a2cd6/File.jpeg?tl_px=0,0&br_px=1376,769&force_format=jpeg&q=100&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=337,171){width="619"}

## Build Your Consultation Form

1.  Inside the folder, again click **New** then click on **Google Forms** to create a new form.

2.  In the title field enter: `Consultation Inquiry`

3.  Set up the following form questions:

    -   **Question 1:** "Name" (Short answer)
    -   **Question 2:** "Email" (Short answer)
    -   **Question 3:** "What is your company name and primary geographic area?" (Short answer)
    -   **Question 4:** "What would you like help with?" (Paragraph)

![](images/consultation_form.jpg){width="525"}

4.  When done, click **Publish** at the top right to make your form live.

## Test Your Form and Connect to Sheets

1.  Click the Share button at the top right, then copy the responder link.

2.  Paste that link into a new tab to open the form and submit a test response. You are encouraged to fill in data for an organization you know and care about. Here is an example:

    -   Name: `John Doe`
    -   Email: `john.doe@example.com`
    -   Company: `The Graduate Institute, Geneva`
    -   Help needed: `General advice on how to use GenAI to help students`

3.  Return to the form editor tab and click **Responses**. This will show you the responses to your form. You should see a new response in the list.

4.  Click **Link to Sheets** → **Create** to generate a connected spreadsheet.

5.  Open the connected spreadsheet. You should see your test response as a row. Keep this tab open — you'll need to point Relay.app to this spreadsheet shortly.

------------------------------------------------------------------------

# Part 2: Building the Automation with Relay.app

## 2.1 sign up for relay account

1. First, sign up for a Relay.app account. Navigate to [relay.app](https://relay.app){target="_blank"} and sign up. You should sign up with the same Google account you used to create your Google Form.

2. You may be asked to add your linkedin profile, this is optional. feel free to skip. 

## 2.2 start creating a new workflow

3. You will then be brought to a page asking to you select a kind of agent. We will actually not be creating an agent, but rather just a workflow. (We will not be creating an "Agent"; in Relay, an agent is a collection of related workflows which a model can run. We'll stick with individual workflows for this workshop. also workflow is synonym for automation.)

To sidestep the agent creation, visit [https://run.relay.app/dashboard](https://run.relay.app/dashboard){target="_blank"}

4. NOW, On the left-hand sidebar, click the plus icon to create a new "Workflow". 

![Create a new workflow.](images/create_new_workflow_button_n.png){fig-alt="Create a new workflow"}

Relat will open the workflow editor, with an AI assistant on the left-hand side.

## 2.3 us the relay app ai assistant to build the workflow

rather than manuallly build the automation step by step, we will let the ai assistant.


side note: (needs to be in side note div)
we have crafted the prompt for you. Knowing how to build such a prompt requires knowing how automations work and so on. So takes some practice. but can be described intuitively in natural lnaguage. KNowing what it is possible to do and what not. Feel free to chat with the agent about these "would it be possible to build a workflow that..." 

copy the prompt below and paste it in the ai assistant text box.

![Paste your prompt here.](images/paste_your_prompt_here_n.png){fig-alt="Paste your prompt here"}

**Prompt to paste:**

```
I have a Google spreadsheet that is updated when clients fill out my contact form.

For each new submission, I want a report of genAI opportunities for the client's organization emailed to me.

First, our automation should research the company, using Google search, returning 2-3 results.

Then we will use Gemini Flash to draft a report. The report should be rich, colorful, and professional.

The report file should be created with the plain text file tool, but with an HTML extension.

Finally, an email should be sent to me using the email yourself tool (not gmail), with the report attached. 
```

Click the send button to send. 

The model will respond with a plan, then it will ask you to connect to google sheets

Click the connect button, and log in with the google account you used to create your Google Form.

![Connect to google sheets.](images/connect_to_google_sheets_n.png){fig-alt="Connect to google sheets"}

Google will ask you what permissions to grant to the relay app.

You want to grant all 3 permissions asked. 

![Alt text](images/grant_permissions.jpg)

{side note}
of course, these are fairly liberal permissions. so one might feel worried.  but but relay is a trusted app, vetted by us, with a good track record. Only actions you expliitly set up will be taken. However, if you are still concerned, about security, you can create a blank google account for this purpose. and, quickly recreate your google form and sheet there connect to that instead.

Next, you will be asked to select the sheet that holds your contact form responses. do that. 

![Select the sheet that holds your contact form responses.](images/select_sheet_n.png){fig-alt="Select the sheet that holds your contact form responses"}

The AI will then ask you to test the workflow 

![Test the workflow.](images/test_workflow_n.png){fig-alt="Test the workflow"}

click the button, then select the row you just submitted to your form. 

the workflow will run, and you will see the progres. Eventually you should receive an email with the report. 

To open an HTML report from your gmail, you first need to download the file, then drag and drop it into your browser. 

[side note we are only emailing ourselves here. but you can also easily connect to gmail to email others.]


Below is an example report from the process.

![Example report from relay.](images/example_report_relay_n.png){fig-alt="Example report from relay"}

## Step 3 · Make any final adjustments.

If you're happy, 

Depending on whether the initial workflow was successful, you can choose to make any final adjustments.

For example, you might customize the prompt for gemini to be more concise, or customize the search query to be more specific. 

If you want to learn more about how to customize relay automations, we recommend this video: 

[hi assistant, would be nice to properly embed this video, as a small thumbnail with an open in new tab icon]
https://www.youtube.com/watch?v=JIkqjyKwJDk

(the demo starts around minute 7)

## Step Enable the workflow


If you're happy with the report, turn it on so that it runs every time a new row is added to your sheet.


Toggle the trigger from **Off** to **On**. The toggle turns green and the workflow is live.

![Turn on instant trigger.](images/turn_on_instant_trigger_n.png){fig-alt="Turn on instant trigger"}

Your automation is now active. Every time a new row is added to your Google Sheet, Relay will research the company, generate a rich HTML report with Gemini, and email it to you as an attachment.


## For reference...

For reference, here is what each step should roughly look like.

[hi assistant, embed these properly with reasonable size, but also actually process the image and summarize in text what the student should see for each steo]

[label](images/step_1_new_row_trigger.jpg) 
[label](images/step_2_research_company.jpg) 
[label](images/step_3_ai_drafter.jpg) 
[label](images/step_4_create_text_file_with_html_extension.jpg) 
[label](images/step_5_email_report_to_self.jpg) 

::: {.callout-tip}
If any step looks wrong, click on it and edit it manually, or describe the fix to the AI in the chat panel on the left. For example, you might say *"Change the AI model to Gemini Flash"* or *"Make the search return only 2 results"*.
:::


------------------------------------------------------------------------

# Part 3: Embedding the Form in Your Website

## Get the Embed Code

1.  Return to your Google Form
2.  Click the three-dot menu (⋮) in the top right
3.  Select **Embed HTML**
4.  Copy the provided HTML embed code

![](https://colony-recorder.s3.amazonaws.com/files/2025-06-06/390e2496-d4ca-4073-a977-ff9a638f18ff/File.webp)

## Add to Your Portfolio Website

You'll use an LLM to update your portfolio's HTML to include the consultation form, then push the changes to GitHub.

### Copy Your Current Website Code

1.  Go to [github.com](https://github.com){target="_blank"}. Click on your profile icon at the top right, then click on **Your repositories**.

    ![](images/github_repositories.jpg){width="324"}

2.  Locate and click on your portfolio repository (it should be called something like `graph-ai-portfolio`).

3.  Click on the `index.html` file.

    ![](images/index_html.jpg){width="374"}

4.  Copy all the code from the file using the **copy** button at the top right of the code view.

    ![](images/copy_code_button.jpg){width="372"}

### Ask an LLM to Update the HTML

1.  Go to ChatGPT, Gemini, or your preferred LLM.

2.  Provide a prompt like the one below. Paste both your embed code (from the previous step) and your current `index.html` code into the prompt where indicated:

```
I want to update my portfolio website to include a consultation form.

Add a new section called "Contact for Consultation" and embed this Google Form:

[PASTE YOUR GOOGLE FORM EMBED CODE HERE]

Below is my current index.html code. Please return the FULL updated HTML file:

[PASTE YOUR ENTIRE index.html CODE HERE]
```

3.  Review the LLM's output to make sure it looks reasonable (e.g., your existing content is still there and a new section has been added).

### Update Your Website on GitHub

1.  Back in your repository on GitHub, navigate to `index.html` and click the **edit file** (pencil) button at the top right.

    ![](images/edit_file_button.jpg){width="452"}

2.  Select all the existing code in the editor and delete it, then paste in the new HTML from the LLM.

3.  Click the **Commit changes** button at the top right to save.

4.  Your live site will update automatically. This may take 3–5 minutes. You can track the deployment status by clicking the **Actions** tab in your repository.

    ![](images/actions_tab.jpg){width="380"}

5.  Once the build completes, visit your GitHub Pages URL and confirm the consultation form section appears on your site. You may need to hard-refresh the page (Ctrl+Shift+R or Cmd+Shift+R) to bypass your browser's cache.

    ![](images/pages_build.jpg){width="353"}

## Test the Full Pipeline

Now that your form is live on your website and the automation is active, it's time to test the entire pipeline from start to finish.

1.  Visit your deployed GitHub Pages website and fill out the consultation form as if you were a real visitor. Use a different company name than your earlier test so you can easily identify the new submission.

2.  Wait a minute or two for Relay.app to pick up the new submission. (Relay.app uses event-based triggers, so it should be fairly quick.)

3.  Check your email for the new report. Open the HTML attachment and review the AI-generated report.

If you receive a report, congratulations — your automation is working end-to-end, from a real website visitor all the way to a professional report delivered to your inbox!

------------------------------------------------------------------------

# Submission

To submit your work, take a screenshot showing your completed workflow in Relay.app (showing all the steps) and upload it to the submission box on the course website.

------------------------------------------------------------------------

# Optional Challenge: PubMed Literature Monitor *(ungraded)*

We're going to 

- create a PubMed search query
- create an RSS feed from the search query
- build a relay automation that monitors the RSS feed every Monday, summarises the 5 most recent papers, and connects them to your own research background.


::: {.callout-tip}
This optional challenge is for students who finish early and want to explore more. It builds a  different kind of automation — one that monitors academic literature and sends you a personalized weekly digest.

It is more unguided with fewer screenshots, so you will need to be more independent.
:::

## How to create your PubMed RSS feed

First, you need to create a PubMed search and convert it to an RSS feed.

**1.  Create a search query**

searching on pubmed uses a special syntax called "boolean operators". if you know how to use them you can do it yourself. but we can also use an llm to help us.

you can pick a topic like 

generative AI and epidemiology
or 
...
or 
...
any paper about arboviruses in a top 5 medical journal 

[assistant, suggest a few]

Go to an LLM (ChatGPT, Gemini, Claude, etc.) and ask it to help you craft a PubMed Boolean search query. For example:

```
Help me create a PubMed search query using Boolean operators
Return just the query string I can paste into PubMed.
I will use this to create a weekly RSS eventually
The topic is:
[YOUR TOPIC HERE]

```

replace [YOUR TOPIC HERE] with the topic you picked.

The model will respond with a query string likt his: 

**2.  Search PubMed**

Go to [pubmed.ncbi.nlm.nih.gov](https://pubmed.ncbi.nlm.nih.gov){target="_blank"} and paste your Boolean search query into the search box and press **Search**.

::: {.callout-tip}
Aim for a query that returns somewhere between 100–1000 total results on PubMed. Too broad (thousands of results) gives generic papers; too narrow gives nothing new each week. Check the result count on the PubMed results page before creating the feed. If needed, go back to the LLM to refine the query.
:::


Just below the search bar, click the **Create RSS** link.

![Alt text](images/create_rss_button.jpg)


Change *Number of items displayed* to **10**, then click **Create RSS**. A URL appears in the *Your RSS Feed Link* box — copy it.

![Alt text](images/rss_settings.jpg)

## Build the Relay automation

As you did before, create a new workflow in relay.app.

Using the ai assistant, paste the prompt below. **Replace the RSS URL** with your own, and **replace the CV blurb** with a short summary of your own background. 

(For a summary of your background, you can use an LLM to summarize your CV)

```
Every Monday morning, we want to get the latest 10 publications from this RSS feed:

[PASTE YOUR PUBMED RSS URL HERE]

Using Gemini Flash, summarize each one in a single line and include the link to the full publication.

Then, at the end of the report, using my CV summary below as context,
mention a few ways any of these publications might be relevant to my own work.

Send the whole thing to me using the Email Yourself tool (not Gmail).

My professional background:

[PASTE YOUR OWN PROFESSIONAL BACKGROUND HERE]
```

Review the steps the AI builds, and run a test. If the output looks good, activate the workflow. You'll now get a personalized literature digest every Monday morning.

To submit this one, you can also take a screenshot of the workflow in relay.app, and upload it to the submission box on the course website. 
